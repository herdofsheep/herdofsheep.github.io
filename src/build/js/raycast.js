import{M as e,V as t,a as o,Q as i,E as r,B as n,b as s,I as a,c,T as h,d as l,e as u,L as d,h as p,P as m,S as g,C as f,W as y,A as b,f as v,g as w,G as E,i as x,j as k,k as T,l as j,m as B,n as M,F as S}from"./GLTFLoader-8a8cae8b.js";import"./lodash-a1d2dbc5.js";var A=function(r,n){void 0===n&&console.warn('THREE.TrackballControls: The second parameter "domElement" is now mandatory.'),n===document&&console.error('THREE.TrackballControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.');var s=this,a=-1,c=0,h=1,l=2,u=3,d=4;this.object=r,this.domElement=n,this.enabled=!0,this.screen={left:0,top:0,width:0,height:0},this.rotateSpeed=1,this.zoomSpeed=1.2,this.panSpeed=.3,this.noRotate=!1,this.noZoom=!1,this.noPan=!1,this.staticMoving=!1,this.dynamicDampingFactor=.2,this.minDistance=0,this.maxDistance=1/0,this.keys=[65,83,68],this.mouseButtons={LEFT:e.ROTATE,MIDDLE:e.ZOOM,RIGHT:e.PAN},this.target=new t;var p=1e-6,m=new t,g=1,f=a,y=a,b=new t,v=new o,w=new o,E=new t,x=0,k=new o,T=new o,j=0,B=0,M=new o,S=new o;this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.up0=this.object.up.clone(),this.zoom0=this.object.zoom;var A={type:"change"},L={type:"start"},D={type:"end"};this.handleResize=function(){var e=s.domElement.getBoundingClientRect(),t=s.domElement.ownerDocument.documentElement;s.screen.left=e.left+window.pageXOffset-t.clientLeft,s.screen.top=e.top+window.pageYOffset-t.clientTop,s.screen.width=e.width,s.screen.height=e.height};var z,R,C,P,X,Y,G,H,O,U,V,I=(z=new o,function(e,t){return z.set((e-s.screen.left)/s.screen.width,(t-s.screen.top)/s.screen.height),z}),q=function(){var e=new o;return function(t,o){return e.set((t-.5*s.screen.width-s.screen.left)/(.5*s.screen.width),(s.screen.height+2*(s.screen.top-o))/s.screen.width),e}}();function F(e){if(!1!==s.enabled)switch(e.pointerType){case"mouse":case"pen":!function(e){if(e.preventDefault(),e.stopPropagation(),f===a)switch(e.button){case s.mouseButtons.LEFT:f=c;break;case s.mouseButtons.MIDDLE:f=h;break;case s.mouseButtons.RIGHT:f=l;break;default:f=a}var t=y!==a?y:f;t!==c||s.noRotate?t!==h||s.noZoom?t!==l||s.noPan||(M.copy(I(e.pageX,e.pageY)),S.copy(M)):(k.copy(I(e.pageX,e.pageY)),T.copy(k)):(w.copy(q(e.pageX,e.pageY)),v.copy(w));s.domElement.ownerDocument.addEventListener("pointermove",W,!1),s.domElement.ownerDocument.addEventListener("pointerup",Z,!1),s.dispatchEvent(L)}(e)}}function W(e){if(!1!==s.enabled)switch(e.pointerType){case"mouse":case"pen":!function(e){if(!1===s.enabled)return;e.preventDefault(),e.stopPropagation();var t=y!==a?y:f;t!==c||s.noRotate?t!==h||s.noZoom?t!==l||s.noPan||S.copy(I(e.pageX,e.pageY)):T.copy(I(e.pageX,e.pageY)):(v.copy(w),w.copy(q(e.pageX,e.pageY)))}(e)}}function Z(e){if(!1!==s.enabled)switch(e.pointerType){case"mouse":case"pen":!function(e){if(!1===s.enabled)return;e.preventDefault(),e.stopPropagation(),f=a,s.domElement.ownerDocument.removeEventListener("pointermove",W),s.domElement.ownerDocument.removeEventListener("pointerup",Z),s.dispatchEvent(D)}(e)}}function _(e){!1!==s.enabled&&(window.removeEventListener("keydown",_),y===a&&(e.keyCode!==s.keys[c]||s.noRotate?e.keyCode!==s.keys[h]||s.noZoom?e.keyCode!==s.keys[l]||s.noPan||(y=l):y=h:y=c))}function $(){!1!==s.enabled&&(y=a,window.addEventListener("keydown",_,!1))}function N(e){if(!1!==s.enabled&&!0!==s.noZoom){switch(e.preventDefault(),e.stopPropagation(),e.deltaMode){case 2:k.y-=.025*e.deltaY;break;case 1:k.y-=.01*e.deltaY;break;default:k.y-=25e-5*e.deltaY}s.dispatchEvent(L),s.dispatchEvent(D)}}function Q(e){if(!1!==s.enabled){switch(e.preventDefault(),e.touches.length){case 1:f=u,w.copy(q(e.touches[0].pageX,e.touches[0].pageY)),v.copy(w);break;default:f=d;var t=e.touches[0].pageX-e.touches[1].pageX,o=e.touches[0].pageY-e.touches[1].pageY;B=j=Math.sqrt(t*t+o*o);var i=(e.touches[0].pageX+e.touches[1].pageX)/2,r=(e.touches[0].pageY+e.touches[1].pageY)/2;M.copy(I(i,r)),S.copy(M)}s.dispatchEvent(L)}}function J(e){if(!1!==s.enabled)switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:v.copy(w),w.copy(q(e.touches[0].pageX,e.touches[0].pageY));break;default:var t=e.touches[0].pageX-e.touches[1].pageX,o=e.touches[0].pageY-e.touches[1].pageY;B=Math.sqrt(t*t+o*o);var i=(e.touches[0].pageX+e.touches[1].pageX)/2,r=(e.touches[0].pageY+e.touches[1].pageY)/2;S.copy(I(i,r))}}function K(e){if(!1!==s.enabled){switch(e.touches.length){case 0:f=a;break;case 1:f=u,w.copy(q(e.touches[0].pageX,e.touches[0].pageY)),v.copy(w)}s.dispatchEvent(D)}}function ee(e){!1!==s.enabled&&e.preventDefault()}this.rotateCamera=(C=new t,P=new i,X=new t,Y=new t,G=new t,H=new t,function(){H.set(w.x-v.x,w.y-v.y,0),(R=H.length())?(b.copy(s.object.position).sub(s.target),X.copy(b).normalize(),Y.copy(s.object.up).normalize(),G.crossVectors(Y,X).normalize(),Y.setLength(w.y-v.y),G.setLength(w.x-v.x),H.copy(Y.add(G)),C.crossVectors(H,b).normalize(),R*=s.rotateSpeed,P.setFromAxisAngle(C,R),b.applyQuaternion(P),s.object.up.applyQuaternion(P),E.copy(C),x=R):!s.staticMoving&&x&&(x*=Math.sqrt(1-s.dynamicDampingFactor),b.copy(s.object.position).sub(s.target),P.setFromAxisAngle(E,x),b.applyQuaternion(P),s.object.up.applyQuaternion(P)),v.copy(w)}),this.zoomCamera=function(){var e;f===d?(e=j/B,j=B,s.object.isPerspectiveCamera?b.multiplyScalar(e):s.object.isOrthographicCamera?(s.object.zoom*=e,s.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")):(1!==(e=1+(T.y-k.y)*s.zoomSpeed)&&e>0&&(s.object.isPerspectiveCamera?b.multiplyScalar(e):s.object.isOrthographicCamera?(s.object.zoom/=e,s.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")),s.staticMoving?k.copy(T):k.y+=(T.y-k.y)*this.dynamicDampingFactor)},this.panCamera=(O=new o,U=new t,V=new t,function(){if(O.copy(S).sub(M),O.lengthSq()){if(s.object.isOrthographicCamera){var e=(s.object.right-s.object.left)/s.object.zoom/s.domElement.clientWidth,t=(s.object.top-s.object.bottom)/s.object.zoom/s.domElement.clientWidth;O.x*=e,O.y*=t}O.multiplyScalar(b.length()*s.panSpeed),V.copy(b).cross(s.object.up).setLength(O.x),V.add(U.copy(s.object.up).setLength(O.y)),s.object.position.add(V),s.target.add(V),s.staticMoving?M.copy(S):M.add(O.subVectors(S,M).multiplyScalar(s.dynamicDampingFactor))}}),this.checkDistances=function(){s.noZoom&&s.noPan||(b.lengthSq()>s.maxDistance*s.maxDistance&&(s.object.position.addVectors(s.target,b.setLength(s.maxDistance)),k.copy(T)),b.lengthSq()<s.minDistance*s.minDistance&&(s.object.position.addVectors(s.target,b.setLength(s.minDistance)),k.copy(T)))},this.update=function(){b.subVectors(s.object.position,s.target),s.noRotate||s.rotateCamera(),s.noZoom||s.zoomCamera(),s.noPan||s.panCamera(),s.object.position.addVectors(s.target,b),s.object.isPerspectiveCamera?(s.checkDistances(),s.object.lookAt(s.target),m.distanceToSquared(s.object.position)>p&&(s.dispatchEvent(A),m.copy(s.object.position))):s.object.isOrthographicCamera?(s.object.lookAt(s.target),(m.distanceToSquared(s.object.position)>p||g!==s.object.zoom)&&(s.dispatchEvent(A),m.copy(s.object.position),g=s.object.zoom)):console.warn("THREE.TrackballControls: Unsupported camera type")},this.reset=function(){f=a,y=a,s.target.copy(s.target0),s.object.position.copy(s.position0),s.object.up.copy(s.up0),s.object.zoom=s.zoom0,s.object.updateProjectionMatrix(),b.subVectors(s.object.position,s.target),s.object.lookAt(s.target),s.dispatchEvent(A),m.copy(s.object.position),g=s.object.zoom},this.dispose=function(){s.domElement.removeEventListener("contextmenu",ee,!1),s.domElement.removeEventListener("pointerdown",F,!1),s.domElement.removeEventListener("wheel",N,!1),s.domElement.removeEventListener("touchstart",Q,!1),s.domElement.removeEventListener("touchend",K,!1),s.domElement.removeEventListener("touchmove",J,!1),s.domElement.ownerDocument.removeEventListener("pointermove",W,!1),s.domElement.ownerDocument.removeEventListener("pointerup",Z,!1),window.removeEventListener("keydown",_,!1),window.removeEventListener("keyup",$,!1)},this.domElement.addEventListener("contextmenu",ee,!1),this.domElement.addEventListener("pointerdown",F,!1),this.domElement.addEventListener("wheel",N,!1),this.domElement.addEventListener("touchstart",Q,!1),this.domElement.addEventListener("touchend",K,!1),this.domElement.addEventListener("touchmove",J,!1),this.domElement.ownerDocument.addEventListener("pointermove",W,!1),this.domElement.ownerDocument.addEventListener("pointerup",Z,!1),window.addEventListener("keydown",_,!1),window.addEventListener("keyup",$,!1),this.handleResize(),this.update()};(A.prototype=Object.create(r.prototype)).constructor=A;var L={computeTangents:function(e){var i=e.index,r=e.attributes;if(null!==i&&void 0!==r.position&&void 0!==r.normal&&void 0!==r.uv){var s=i.array,a=r.position.array,c=r.normal.array,h=r.uv.array,l=a.length/3;void 0===r.tangent&&e.setAttribute("tangent",new n(new Float32Array(4*l),4));for(var u=r.tangent.array,d=[],p=[],m=0;m<l;m++)d[m]=new t,p[m]=new t;var g=new t,f=new t,y=new t,b=new o,v=new o,w=new o,E=new t,x=new t,k=e.groups;0===k.length&&(k=[{start:0,count:s.length}]);m=0;for(var T=k.length;m<T;++m)for(var j=P=(C=k[m]).start,B=P+C.count;j<B;j+=3)X(s[j+0],s[j+1],s[j+2]);var M,S,A,L=new t,D=new t,z=new t,R=new t;for(m=0,T=k.length;m<T;++m){var C,P;for(j=P=(C=k[m]).start,B=P+C.count;j<B;j+=3)Y(s[j+0]),Y(s[j+1]),Y(s[j+2])}}else console.error("THREE.BufferGeometryUtils: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");function X(e,t,o){g.fromArray(a,3*e),f.fromArray(a,3*t),y.fromArray(a,3*o),b.fromArray(h,2*e),v.fromArray(h,2*t),w.fromArray(h,2*o),f.sub(g),y.sub(g),v.sub(b),w.sub(b);var i=1/(v.x*w.y-w.x*v.y);isFinite(i)&&(E.copy(f).multiplyScalar(w.y).addScaledVector(y,-v.y).multiplyScalar(i),x.copy(y).multiplyScalar(v.x).addScaledVector(f,-w.x).multiplyScalar(i),d[e].add(E),d[t].add(E),d[o].add(E),p[e].add(x),p[t].add(x),p[o].add(x))}function Y(e){z.fromArray(c,3*e),R.copy(z),S=d[e],L.copy(S),L.sub(z.multiplyScalar(z.dot(S))).normalize(),D.crossVectors(R,S),A=D.dot(p[e]),M=A<0?-1:1,u[4*e]=L.x,u[4*e+1]=L.y,u[4*e+2]=L.z,u[4*e+3]=M}},mergeBufferGeometries:function(e,t){for(var o=null!==e[0].index,i=new Set(Object.keys(e[0].attributes)),r=new Set(Object.keys(e[0].morphAttributes)),n={},a={},c=e[0].morphTargetsRelative,h=new s,l=0,u=0;u<e.length;++u){var d=e[u],p=0;if(o!==(null!==d.index))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+u+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(var m in d.attributes){if(!i.has(m))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+u+'. All geometries must have compatible attributes; make sure "'+m+'" attribute exists among all geometries, or in none of them.'),null;void 0===n[m]&&(n[m]=[]),n[m].push(d.attributes[m]),p++}if(p!==i.size)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+u+". Make sure all geometries have the same number of attributes."),null;if(c!==d.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+u+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(var m in d.morphAttributes){if(!r.has(m))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+u+".  .morphAttributes must be consistent throughout all geometries."),null;void 0===a[m]&&(a[m]=[]),a[m].push(d.morphAttributes[m])}if(h.userData.mergedUserData=h.userData.mergedUserData||[],h.userData.mergedUserData.push(d.userData),t){var g;if(o)g=d.index.count;else{if(void 0===d.attributes.position)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+u+". The geometry must have either an index or a position attribute"),null;g=d.attributes.position.count}h.addGroup(l,g,u),l+=g}}if(o){var f=0,y=[];for(u=0;u<e.length;++u){for(var b=e[u].index,v=0;v<b.count;++v)y.push(b.getX(v)+f);f+=e[u].attributes.position.count}h.setIndex(y)}for(var m in n){var w=this.mergeBufferAttributes(n[m]);if(!w)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+m+" attribute."),null;h.setAttribute(m,w)}for(var m in a){var E=a[m][0].length;if(0===E)break;h.morphAttributes=h.morphAttributes||{},h.morphAttributes[m]=[];for(u=0;u<E;++u){var x=[];for(v=0;v<a[m].length;++v)x.push(a[m][v][u]);var k=this.mergeBufferAttributes(x);if(!k)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+m+" morphAttribute."),null;h.morphAttributes[m].push(k)}}return h},mergeBufferAttributes:function(e){for(var t,o,i,r=0,s=0;s<e.length;++s){var a=e[s];if(a.isInterleavedBufferAttribute)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. InterleavedBufferAttributes are not supported."),null;if(void 0===t&&(t=a.array.constructor),t!==a.array.constructor)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null;if(void 0===o&&(o=a.itemSize),o!==a.itemSize)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null;if(void 0===i&&(i=a.normalized),i!==a.normalized)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null;r+=a.array.length}var c=new t(r),h=0;for(s=0;s<e.length;++s)c.set(e[s].array,h),h+=e[s].array.length;return new n(c,o,i)},interleaveAttributes:function(e){for(var t,o=0,i=0,r=0,n=e.length;r<n;++r){var s=e[r];if(void 0===t&&(t=s.array.constructor),t!==s.array.constructor)return console.error("AttributeBuffers of different types cannot be interleaved"),null;o+=s.array.length,i+=s.itemSize}var h=new a(new t(o),i),l=0,u=[],d=["getX","getY","getZ","getW"],p=["setX","setY","setZ","setW"],m=0;for(n=e.length;m<n;m++){var g=(s=e[m]).itemSize,f=s.count,y=new c(h,g,l,s.normalized);u.push(y),l+=g;for(var b=0;b<f;b++)for(var v=0;v<g;v++)y[p[v]](b,s[d[v]](b))}return u},estimateBytesUsed:function(e){var t=0;for(var o in e.attributes){var i=e.getAttribute(o);t+=i.count*i.itemSize*i.array.BYTES_PER_ELEMENT}var r=e.getIndex();return t+=r?r.count*r.itemSize*r.array.BYTES_PER_ELEMENT:0},mergeVertices:function(e,t=1e-4){t=Math.max(t,Number.EPSILON);for(var o={},i=e.getIndex(),r=e.getAttribute("position"),s=i?i.count:r.count,a=0,c=Object.keys(e.attributes),h={},l={},u=[],d=["getX","getY","getZ","getW"],p=0,m=c.length;p<m;p++){h[w=c[p]]=[],(T=e.morphAttributes[w])&&(l[w]=new Array(T.length).fill().map((()=>[])))}var g=Math.log10(1/t),f=Math.pow(10,g);for(p=0;p<s;p++){var y=i?i.getX(p):p,b="",v=0;for(m=c.length;v<m;v++)for(var w=c[v],E=(k=e.getAttribute(w)).itemSize,x=0;x<E;x++)b+=~~(k[d[x]](y)*f)+",";if(b in o)u.push(o[b]);else{for(v=0,m=c.length;v<m;v++){w=c[v];var k=e.getAttribute(w),T=e.morphAttributes[w],j=(E=k.itemSize,h[w]),B=l[w];for(x=0;x<E;x++){var M=d[x];if(j.push(k[M](y)),T)for(var S=0,A=T.length;S<A;S++)B[S].push(T[S][M](y))}}o[b]=a,u.push(a),a++}}const L=e.clone();for(p=0,m=c.length;p<m;p++){w=c[p];var D=e.getAttribute(w),z=new D.array.constructor(h[w]);k=new n(z,D.itemSize,D.normalized);if(L.setAttribute(w,k),w in l)for(v=0;v<l[w].length;v++){var R=e.morphAttributes[w][v],C=(z=new R.array.constructor(l[w][v]),new n(z,R.itemSize,R.normalized));L.morphAttributes[w][v]=C}}return L.setIndex(u),L},toTrianglesDrawMode:function(e,t){if(t===h)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),e;if(t===l||t===u){var o=e.getIndex();if(null===o){var i=[],r=e.getAttribute("position");if(void 0===r)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(var n=0;n<r.count;n++)i.push(n);e.setIndex(i),o=e.getIndex()}var s=o.count-2,a=[];if(t===l)for(n=1;n<=s;n++)a.push(o.getX(0)),a.push(o.getX(n)),a.push(o.getX(n+1));else for(n=0;n<s;n++)n%2==0?(a.push(o.getX(n)),a.push(o.getX(n+1)),a.push(o.getX(n+2))):(a.push(o.getX(n+2)),a.push(o.getX(n+1)),a.push(o.getX(n)));a.length/3!==s&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");var c=e.clone();return c.setIndex(a),c.clearGroups(),c}return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",t),e}};window.customElements.define("ray-cast",class extends d{static get properties(){return{container:{type:Object},camera:{type:Object},controls:{type:Object},scene:{type:Object},renderer:{type:Object},pickingTexture:{type:Object},pickingScene:{type:Object},highlightShape:{type:Object},mouse:{type:Object},mousePosX:{type:Object},mousePosY:{type:Object},infoVisible:{type:String},offset:{type:Object},pickingData:{type:Object},cursorType:{type:String},canClick:{type:Boolean},link:{type:String},duplicated:{type:Boolean},que:{type:Object},work:{type:Object},queBig:{type:Object},workBig:{type:Object},files:{type:Array}}}constructor(){super(),this.mouse=new o,this.mousePosX="0px",this.mousePosY="0px",this.beganTouching=!1,this.offset=new t(1,1,1),this.duplicated=!1,this.pickingData=[],this.cursorType="grab",this.canClick=!1,this.link="",this.addEventListener("click",this.clickLink),this.addEventListener("touchstart",this.touchStart),this.addEventListener("touchmove",this.touchMove),this.addEventListener("touchcancel",this.touchMove),this.addEventListener("touchend",this.touchEnd)}render(){return p`<style>:host{cursor:${this.cursorType}}.followMouse{top:${this.mousePosY};left:${this.mousePosX};color:#fff;font-size:50px;visibility:${this.infoVisible};position:absolute;z-index:10}#crosshair{top:${this.YCenter};left:${this.XCenter};position:absolute;visibility:hidden;width:0;height:0;z-index:100}#upSpoke{background:#fff;height:10px;width:2px;transform:translateY(-3px)}#sideSpoke{background:#fff;height:2px;width:10px;transform:translate(-4px,-9px)}@media (hover:none){#crosshair{visibility:visible}}</style><div id="container"></div><div id="infoText" class="followMouse"></div><div id="crosshair"><div id="upSpoke"></div><div id="sideSpoke"></div></div>`}async firstUpdated(){await new Promise((e=>setTimeout(e,0))),this.init(),this.animate()}init(){this.container=this.shadowRoot.getElementById("container"),this.camera=new m(70,window.innerWidth/window.innerHeight,1,1e4),this.camera.position.z=1e3,this.XCenter=window.innerWidth/2+"px",this.YCenter=window.innerHeight/2+"px",this.mousePosX=this.XCenter,this.mousePosY=this.YCenter,this.scene=new g,this.scene.background=new f(4342338),this.pickingScene=new g,this.pickingTexture=new y(1,1),this.scene.add(new b(5592405));const e=new v(16777215,1.5);e.position.set(0,500,2e4),this.scene.add(e),this.files=["que","work","github","math"],this.work=this.loadModel("/src/assets/models/gltf/radcam.glb"),this.workBig=this.loadModel("/src/assets/models/gltf/radcamBig.glb"),this.que=this.loadModel("/src/assets/models/gltf/questionmark.glb"),this.queBig=this.loadModel("/src/assets/models/gltf/questionmarkBig.glb"),this.github=this.loadModel("/src/assets/models/gltf/github.glb"),this.githubBig=this.loadModel("/src/assets/models/gltf/githubBig.glb"),this.math=this.loadModel("/src/assets/models/gltf/math.glb"),this.mathBig=this.loadModel("/src/assets/models/gltf/mathBig.glb"),this.renderer=new w({antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(window.innerWidth,window.innerHeight),this.container.appendChild(this.renderer.domElement),this.controls=new A(this.camera,this.renderer.domElement),this.controls.rotateSpeed=-1,this.controls.zoomSpeed=1.2,this.controls.panSpeed=-.8,this.controls.noZoom=!1,this.controls.noPan=!1,this.controls.staticMoving=!0,this.controls.dynamicDampingFactor=.3,this.renderer.domElement.addEventListener("mousemove",this.onMouseMove.bind(this)),window.addEventListener("resize",this.onWindowResize.bind(this),!1)}onWindowResize(){this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight),this.XCenter=window.innerWidth/2+"px",this.YCenter=window.innerHeight/2+"px",this.mousePosX=this.XCenter,this.mousePosY=this.YCenter}onMouseMove(e){this.mouse.x=e.clientX,this.mouse.y=e.clientY,this.mousePosX=this.mouse.x+15+"px",this.mousePosY=this.mouse.y+15+"px"}loadModel(e){var t=new E,o=new x;return t.load(e,(function(e){e.scene.traverse((function(e){})),o.add(e.scene)})),o}animate(){window.requestAnimationFrame((()=>this.animate())),0==this.duplicated&&this.duplicate(),1==this.duplicated&&this.threeRender()}threeRender(){this.controls.update(),this.pick(),this.renderer.setRenderTarget(null),this.renderer.render(this.scene,this.camera)}duplicate(){var e=this.files;const o={},r={},n=new k,s=new i,a=new f,c=new T({vertexColors:!0}),h=new j({color:16777215,flatShading:!0,vertexColors:!0,shininess:0});var l=this.cloneFiles(e);if(null!=l){for(var u in this.parentElement.children.loading.style.visibility="hidden",e){var d=e[u];o[d]=[],r[d]=[]}for(let i=1;i<51;i++){var p=l[Math.floor(Math.random()*e.length)],m=p.data.clone();const c=new t;c.x=1e4*Math.random()-5e3,c.y=6e3*Math.random()-3e3,c.z=8e3*Math.random()-4e3;const h=new B;h.x=2*Math.random()*Math.PI,h.y=2*Math.random()*Math.PI,h.z=2*Math.random()*Math.PI;const u=new t(50,50,50);s.setFromEuler(h),n.compose(c,s,u),m.applyMatrix4(n),this.applyVertexColors(m,a.setHex(394758)),o[p.type].push(m),m=m.clone(),this.applyVertexColors(m,a.setHex(i)),r[p.type].push(m),this.pickingData[i]={position:c,rotation:h,scale:u,type:p.type}}for(var u in this.highlightShape={},e){var g=e[u];if("work"==g)var y=13199411;if("github"==g)y=3608130;if("que"==g)y=16728418;if("math"==g)y=12575679;this.highlightShape[e[u]]=new M(l[u].bigData,new j({color:y,flatShading:!1,shininess:150})),this.scene.add(this.highlightShape[e[u]]),this.objects=new M(L.mergeBufferGeometries(o[e[u]]),h),this.scene.add(this.objects),this.pickingScene.add(new M(L.mergeBufferGeometries(r[e[u]]),c))}this.duplicated=!0}}cloneFiles(e){for(var t in e){var o=_.get(this,[e[t],"children",0,"children"],null),i=_.get(this,[e[t]+"Big","children",0,"children"],null);if(null==o||null==i)return null}var r=[];for(var t in e){var n={},s=e[t],a=_.get(this,[s,"children",0,"children"]);if(a.find((e=>"Mesh"==e.type)))n.data=a.find((e=>"Mesh"==e.type)).geometry;else{var c=a.find((e=>"Group"==e.type));if(c){for(var h=[],l=0;l<c.children.length;l++){var u=c.children[l].geometry;h.push(u)}var d=L.mergeBufferGeometries(h);n.data=d}}var p=_.get(this,[s+"Big","children",0,"children"]);if(p.find((e=>"Mesh"==e.type)))n.bigData=p.find((e=>"Mesh"==e.type)).geometry;else{var m=p.find((e=>"Group"==e.type));if(m){for(h=[],l=0;l<m.children.length;l++){u=m.children[l].geometry;h.push(u)}d=L.mergeBufferGeometries(h);n.bigData=d}}n.type=s,r.push(n)}return r}pick(){var e=this.mouse.x,t=this.mouse.y;window.matchMedia("(hover: none)").matches&&(e=this.XCenter.replace("px",""),t=this.YCenter.replace("px","")),this.camera.setViewOffset(this.renderer.domElement.width,this.renderer.domElement.height,e*window.devicePixelRatio|0,t*window.devicePixelRatio|0,1,1),this.renderer.setRenderTarget(this.pickingTexture),this.renderer.render(this.pickingScene,this.camera),this.camera.clearViewOffset();const o=new Uint8Array(4);this.renderer.readRenderTargetPixels(this.pickingTexture,0,0,1,1,o);const i=o[0]<<16|o[1]<<8|o[2],r=this.pickingData[i];var n=this.shadowRoot.getElementById("infoText");if(i>0?(this.cursorType="pointer",this.infoVisible="visible","work"==r.type&&(this.link="src/portfolio.html",n.innerHTML="work portfolio"),"github"==r.type&&(this.link="https://github.com/herdofsheep",n.innerHTML="github"),"que"==r.type&&(this.link="src/what.html",n.innerHTML="what's this?"),"math"==r.type&&(this.link="src/art.html",n.innerHTML="art portfolio"),this.canClick=!0):this.infoVisible="hidden",r&&i>0)r.position&&r.rotation&&r.scale&&r.type&&(this.highlightShape[r.type].position.copy(r.position),this.highlightShape[r.type].rotation.copy(r.rotation),this.highlightShape[r.type].scale.copy(r.scale).add(this.offset),this.highlightShape[r.type].visible=!0);else{for(var s in this.files)this.highlightShape[this.files[s]].visible=!1;this.cursorType="cell",this.canClick=!1}}clickLink(){this.canClick&&(window.location.href=this.link)}touchStart(){this.canClick&&(this.beganTouching=!0)}touchMove(){this.beganTouching=!1}touchEnd(){this.canClick&&this.beganTouching&&(window.location.href=this.link)}applyVertexColors(e,t){const o=e.attributes.position,i=[];for(let e=0;e<o.count;e++)i.push(t.r,t.g,t.b);e.setAttribute("color",new S(i,3))}});
