import{L as e,S as t,C as i,O as s,H as n,n as a,g as r,G as o,i as c,j as d,Q as h,V as l,m as u,o as m}from"./GLTFLoader-8a8cae8b.js";import"./lodash-a1d2dbc5.js";window.customElements.define("question-mark",class extends e{static get properties(){return{container:{type:Object},camera:{type:Object},controls:{type:Object},scene:{type:Object},renderer:{type:Object},que:{type:Object},ques:{type:Array},duplicated:{tpye:Boolean}}}constructor(){super(),this.duplicated=!1,this.init(),this.animate()}init(){this.container=document.getElementById("container"),this.scene=new t,this.scene.background=new i(16777215);var e=this.container.clientWidth,o=this.container.clientHeight;this.camera=new s(e/-2,e/2,o/2,o/-2,-100,1e3);var c=new n(4655894,100,10);c.position.set(0,0,10),this.scene.add(c),this.que=this.loadModel("/src/assets/models/gltf/questionmark.glb"),this.queAll=new a,this.renderer=new r({antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(e,o),this.renderer.gammaOutput=!0,this.container.appendChild(this.renderer.domElement),window.addEventListener("resize",this.onWindowResize.bind(this),!1)}loadModel(e){var t=new o,i=new c;return t.load(e,(function(e){e.scene.traverse((function(e){})),i.add(e.scene)})),i}onWindowResize(){var e=this.container.clientWidth,t=this.container.clientHeight;this.camera.left=e/-2,this.camera.right=e/2,this.camera.top=t/2,this.camera.bottom=t/-2,this.camera.updateProjectionMatrix(),this.renderer.setSize(e,t)}animate(){window.requestAnimationFrame((()=>this.animate())),0==this.duplicated&&this.duplicate(),this.render()}render(){var e=5e-4*Date.now();if(this.ques)for(let t=0;t<this.ques.length;t++)this.ques[t].rotation.x=3.14*Math.cos(.03*e*(t+100))-90;this.renderer.render(this.scene,this.camera),this.camera.lookAt(this.que.position)}duplicate(){if(_.get(this.que,["children",0,"children"],null)){var e=[];const s=new d,n=new h;for(let r=0;r<14;r++){var t=this.que.children[0].children.find((e=>"Mesh"==e.type)).geometry.clone();const o=new l(50*r-350+14,0,5);n.setFromEuler(new u(0,0,0));const c=new l(5,5,5);s.compose(o,n,c),t.applyMatrix4(s);var i=new m({color:16713736});t=new a(t,i),e.push(t)}for(let t=0;t<e.length;t++)this.scene.add(e[t]);this.ques=e,this.duplicated=!0}}});
