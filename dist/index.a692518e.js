function e(e){return e&&e.__esModule?e.default:e}var t=globalThis,i={},o={},n=t.parcelRequire7464;null==n&&((n=function(e){if(e in i)return i[e].exports;if(e in o){var t=o[e];delete o[e];var n={id:e,exports:{}};return i[e]=n,t.call(n.exports,n,n.exports),n.exports}var s=Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){o[e]=t},t.parcelRequire7464=n),n.register;var s=n("ilwiq"),r=n("f1q41"),a=n("cdewg"),c=n("7lx9d"),s=n("ilwiq");const h={type:"change"},l={type:"start"},p={type:"end"};class d extends s.EventDispatcher{constructor(e,t){super();let i=this,o={NONE:-1,ROTATE:0,ZOOM:1,PAN:2,TOUCH_ROTATE:3,TOUCH_ZOOM_PAN:4};this.object=e,this.domElement=t,this.domElement.style.touchAction="none",this.enabled=!0,this.screen={left:0,top:0,width:0,height:0},this.rotateSpeed=1,this.zoomSpeed=1.2,this.panSpeed=.3,this.noRotate=!1,this.noZoom=!1,this.noPan=!1,this.staticMoving=!1,this.dynamicDampingFactor=.2,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.keys=["KeyA","KeyS","KeyD"],this.mouseButtons={LEFT:s.MOUSE.ROTATE,MIDDLE:s.MOUSE.DOLLY,RIGHT:s.MOUSE.PAN},this.target=new s.Vector3;let n=new s.Vector3,r=1,a=o.NONE,c=o.NONE,d=0,m=0,u=0,g=new s.Vector3,y=new s.Vector2,w=new s.Vector2,b=new s.Vector3,f=new s.Vector2,v=new s.Vector2,E=new s.Vector2,M=new s.Vector2,O=[],x={};this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.up0=this.object.up.clone(),this.zoom0=this.object.zoom,this.handleResize=function(){let e=i.domElement.getBoundingClientRect(),t=i.domElement.ownerDocument.documentElement;i.screen.left=e.left+window.pageXOffset-t.clientLeft,i.screen.top=e.top+window.pageYOffset-t.clientTop,i.screen.width=e.width,i.screen.height=e.height};let j=function(){let e=new s.Vector2;return function(t,o){return e.set((t-i.screen.left)/i.screen.width,(o-i.screen.top)/i.screen.height),e}}(),k=function(){let e=new s.Vector2;return function(t,o){return e.set((t-.5*i.screen.width-i.screen.left)/(.5*i.screen.width),(i.screen.height+2*(i.screen.top-o))/i.screen.width),e}}();function T(e){!1!==i.enabled&&(0===O.length&&(i.domElement.setPointerCapture(e.pointerId),i.domElement.addEventListener("pointermove",C),i.domElement.addEventListener("pointerup",L)),O.push(e),"touch"===e.pointerType?function(e){if(N(e),1===O.length)a=o.TOUCH_ROTATE,w.copy(k(O[0].pageX,O[0].pageY)),y.copy(w);else{a=o.TOUCH_ZOOM_PAN;let e=O[0].pageX-O[1].pageX,t=O[0].pageY-O[1].pageY;m=d=Math.sqrt(e*e+t*t);let i=(O[0].pageX+O[1].pageX)/2,n=(O[0].pageY+O[1].pageY)/2;E.copy(j(i,n)),M.copy(E)}i.dispatchEvent(l)}(e):function(e){if(a===o.NONE)switch(e.button){case i.mouseButtons.LEFT:a=o.ROTATE;break;case i.mouseButtons.MIDDLE:a=o.ZOOM;break;case i.mouseButtons.RIGHT:a=o.PAN}let t=c!==o.NONE?c:a;t!==o.ROTATE||i.noRotate?t!==o.ZOOM||i.noZoom?t!==o.PAN||i.noPan||(E.copy(j(e.pageX,e.pageY)),M.copy(E)):(f.copy(j(e.pageX,e.pageY)),v.copy(f)):(w.copy(k(e.pageX,e.pageY)),y.copy(w)),i.dispatchEvent(l)}(e))}function C(e){!1!==i.enabled&&("touch"===e.pointerType?function(e){if(N(e),1===O.length)y.copy(w),w.copy(k(e.pageX,e.pageY));else{let t=x[(e.pointerId===O[0].pointerId?O[1]:O[0]).pointerId],i=e.pageX-t.x,o=e.pageY-t.y;m=Math.sqrt(i*i+o*o);let n=(e.pageX+t.x)/2,s=(e.pageY+t.y)/2;M.copy(j(n,s))}}(e):function(e){let t=c!==o.NONE?c:a;t!==o.ROTATE||i.noRotate?t!==o.ZOOM||i.noZoom?t!==o.PAN||i.noPan||M.copy(j(e.pageX,e.pageY)):v.copy(j(e.pageX,e.pageY)):(y.copy(w),w.copy(k(e.pageX,e.pageY)))}(e))}function L(e){!1!==i.enabled&&("touch"===e.pointerType?function(e){switch(O.length){case 0:a=o.NONE;break;case 1:a=o.TOUCH_ROTATE,w.copy(k(e.pageX,e.pageY)),y.copy(w);break;case 2:a=o.TOUCH_ZOOM_PAN;for(let t=0;t<O.length;t++)if(O[t].pointerId!==e.pointerId){let e=x[O[t].pointerId];w.copy(k(e.x,e.y)),y.copy(w);break}}i.dispatchEvent(p)}(e):(a=o.NONE,i.dispatchEvent(p)),z(e),0===O.length&&(i.domElement.releasePointerCapture(e.pointerId),i.domElement.removeEventListener("pointermove",C),i.domElement.removeEventListener("pointerup",L)))}function P(e){z(e)}function S(e){!1!==i.enabled&&(window.removeEventListener("keydown",S),c===o.NONE&&(e.code!==i.keys[o.ROTATE]||i.noRotate?e.code!==i.keys[o.ZOOM]||i.noZoom?e.code!==i.keys[o.PAN]||i.noPan||(c=o.PAN):c=o.ZOOM:c=o.ROTATE))}function V(){!1!==i.enabled&&(c=o.NONE,window.addEventListener("keydown",S))}function R(e){if(!1!==i.enabled&&!0!==i.noZoom){switch(e.preventDefault(),e.deltaMode){case 2:f.y-=.025*e.deltaY;break;case 1:f.y-=.01*e.deltaY;break;default:f.y-=25e-5*e.deltaY}i.dispatchEvent(l),i.dispatchEvent(p)}}function A(e){!1!==i.enabled&&e.preventDefault()}function z(e){delete x[e.pointerId];for(let t=0;t<O.length;t++)if(O[t].pointerId==e.pointerId){O.splice(t,1);return}}function N(e){let t=x[e.pointerId];void 0===t&&(t=new s.Vector2,x[e.pointerId]=t),t.set(e.pageX,e.pageY)}this.rotateCamera=function(){let e=new s.Vector3,t=new s.Quaternion,o=new s.Vector3,n=new s.Vector3,r=new s.Vector3,a=new s.Vector3;return function(){a.set(w.x-y.x,w.y-y.y,0);let s=a.length();s?(g.copy(i.object.position).sub(i.target),o.copy(g).normalize(),n.copy(i.object.up).normalize(),r.crossVectors(n,o).normalize(),n.setLength(w.y-y.y),r.setLength(w.x-y.x),a.copy(n.add(r)),e.crossVectors(a,g).normalize(),s*=i.rotateSpeed,t.setFromAxisAngle(e,s),g.applyQuaternion(t),i.object.up.applyQuaternion(t),b.copy(e),u=s):!i.staticMoving&&u&&(u*=Math.sqrt(1-i.dynamicDampingFactor),g.copy(i.object.position).sub(i.target),t.setFromAxisAngle(b,u),g.applyQuaternion(t),i.object.up.applyQuaternion(t)),y.copy(w)}}(),this.zoomCamera=function(){let e;a===o.TOUCH_ZOOM_PAN?(e=d/m,d=m,i.object.isPerspectiveCamera?g.multiplyScalar(e):i.object.isOrthographicCamera?(i.object.zoom=(0,s.MathUtils).clamp(i.object.zoom/e,i.minZoom,i.maxZoom),r!==i.object.zoom&&i.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")):(1!=(e=1+(v.y-f.y)*i.zoomSpeed)&&e>0&&(i.object.isPerspectiveCamera?g.multiplyScalar(e):i.object.isOrthographicCamera?(i.object.zoom=(0,s.MathUtils).clamp(i.object.zoom/e,i.minZoom,i.maxZoom),r!==i.object.zoom&&i.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")),i.staticMoving?f.copy(v):f.y+=(v.y-f.y)*this.dynamicDampingFactor)},this.panCamera=function(){let e=new s.Vector2,t=new s.Vector3,o=new s.Vector3;return function(){if(e.copy(M).sub(E),e.lengthSq()){if(i.object.isOrthographicCamera){let t=(i.object.right-i.object.left)/i.object.zoom/i.domElement.clientWidth,o=(i.object.top-i.object.bottom)/i.object.zoom/i.domElement.clientWidth;e.x*=t,e.y*=o}e.multiplyScalar(g.length()*i.panSpeed),o.copy(g).cross(i.object.up).setLength(e.x),o.add(t.copy(i.object.up).setLength(e.y)),i.object.position.add(o),i.target.add(o),i.staticMoving?E.copy(M):E.add(e.subVectors(M,E).multiplyScalar(i.dynamicDampingFactor))}}}(),this.checkDistances=function(){i.noZoom&&i.noPan||(g.lengthSq()>i.maxDistance*i.maxDistance&&(i.object.position.addVectors(i.target,g.setLength(i.maxDistance)),f.copy(v)),g.lengthSq()<i.minDistance*i.minDistance&&(i.object.position.addVectors(i.target,g.setLength(i.minDistance)),f.copy(v)))},this.update=function(){g.subVectors(i.object.position,i.target),i.noRotate||i.rotateCamera(),i.noZoom||i.zoomCamera(),i.noPan||i.panCamera(),i.object.position.addVectors(i.target,g),i.object.isPerspectiveCamera?(i.checkDistances(),i.object.lookAt(i.target),n.distanceToSquared(i.object.position)>1e-6&&(i.dispatchEvent(h),n.copy(i.object.position))):i.object.isOrthographicCamera?(i.object.lookAt(i.target),(n.distanceToSquared(i.object.position)>1e-6||r!==i.object.zoom)&&(i.dispatchEvent(h),n.copy(i.object.position),r=i.object.zoom)):console.warn("THREE.TrackballControls: Unsupported camera type")},this.reset=function(){a=o.NONE,c=o.NONE,i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.up.copy(i.up0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),g.subVectors(i.object.position,i.target),i.object.lookAt(i.target),i.dispatchEvent(h),n.copy(i.object.position),r=i.object.zoom},this.dispose=function(){i.domElement.removeEventListener("contextmenu",A),i.domElement.removeEventListener("pointerdown",T),i.domElement.removeEventListener("pointercancel",P),i.domElement.removeEventListener("wheel",R),i.domElement.removeEventListener("pointermove",C),i.domElement.removeEventListener("pointerup",L),window.removeEventListener("keydown",S),window.removeEventListener("keyup",V)},this.domElement.addEventListener("contextmenu",A),this.domElement.addEventListener("pointerdown",T),this.domElement.addEventListener("pointercancel",P),this.domElement.addEventListener("wheel",R,{passive:!1}),window.addEventListener("keydown",S),window.addEventListener("keyup",V),this.handleResize(),this.update()}}var m=n("7ePFa");class u extends a.LitElement{static get properties(){return{container:{type:Object},camera:{type:Object},controls:{type:Object},scene:{type:Object},renderer:{type:Object},pickingTexture:{type:Object},pickingScene:{type:Object},highlightShape:{type:Object},mouse:{type:Object},mousePosX:{type:Object},mousePosY:{type:Object},infoVisible:{type:String},offset:{type:Object},pickingData:{type:Object},cursorType:{type:String},canClick:{type:Boolean},link:{type:String},duplicated:{type:Boolean},que:{type:Object},work:{type:Object},queBig:{type:Object},workBig:{type:Object},files:{type:Array}}}constructor(){super(),this.mouse=new s.Vector2,this.mousePosX="0px",this.mousePosY="0px",this.beganTouching=!1,this.offset=new s.Vector3(1,1,1),this.duplicated=!1,this.pickingData=[],this.cursorType="grab",this.canClick=!1,this.link="",this.addEventListener("click",this.clickLink),this.addEventListener("touchstart",this.touchStart),this.addEventListener("touchmove",this.touchMove),this.addEventListener("touchcancel",this.touchMove),this.addEventListener("touchend",this.touchEnd)}render(){return(0,a.html)`
    <style>
      :host {
        cursor: ${this.cursorType}
      }
      .followMouse {
        top: ${this.mousePosY};
        left: ${this.mousePosX};
        color: white;
        font-size:50px;
        visibility: ${this.infoVisible};
        position:absolute;
        z-index: 10;
      }
      #crosshair {
        top: ${this.YCenter};
        left: ${this.XCenter};
        position: absolute;
        visibility: hidden;
        width: 0px;
        height: 0px;
        z-index: 100;
      }
      #upSpoke {
        background: white;
        height: 10px;
        width: 2px;
        transform: translateY(-3px);
      }
      #sideSpoke {
        background: white;
        height: 2px;
        width: 10px;
        transform: translate(-4px,-9px);
      }
      #container{
				top:0px;
				position: absolute;
			}
      @media (hover: none) {
        /* behaviour for touch browsers */
        #crosshair {
          visibility: visible;
        }
      }
    </style>
    <div id="container" ></div>
    <div id="infoText" class="followMouse" ></div>
    <div id="crosshair" >
      <div id="upSpoke"></div>
      <div id="sideSpoke"></div>
    </div>
    `}async firstUpdated(){await new Promise(e=>setTimeout(e,0)),this.init(),this.animate()}async init(){this.container=this.shadowRoot.getElementById("container"),this.camera=new s.PerspectiveCamera(70,window.innerWidth/window.innerHeight,1,1e4),this.camera.position.z=1e3,this.XCenter=window.innerWidth/2+"px",this.YCenter=window.innerHeight/2+"px",this.mousePosX=this.XCenter,this.mousePosY=this.YCenter,this.scene=new s.Scene,this.scene.background=new s.Color(4342338),this.pickingScene=new s.Scene,this.pickingTexture=new s.WebGLRenderTarget(1,1),this.scene.add(new s.AmbientLight(5592405));let e=new s.SpotLight(16777215,1.5);e.position.set(0,500,2e4),this.scene.add(e),this.files=["que","work","github","math"],this.work=this.loadModel("/assets/models/gltf/radcam.glb"),this.workBig=this.loadModel("/assets/models/gltf/radcamBig.glb"),this.que=this.loadModel("/assets/models/gltf/questionmark.glb"),this.queBig=this.loadModel("/assets/models/gltf/questionmarkBig.glb"),this.github=this.loadModel("/assets/models/gltf/github.glb"),this.githubBig=this.loadModel("/assets/models/gltf/githubBig.glb"),this.math=this.loadModel("/assets/models/gltf/math.glb"),this.mathBig=this.loadModel("/assets/models/gltf/mathBig.glb"),this.renderer=new s.WebGLRenderer({antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(window.innerWidth,window.innerHeight),this.container.appendChild(this.renderer.domElement),this.controls=new d(this.camera,this.renderer.domElement),this.controls.rotateSpeed=-1,this.controls.zoomSpeed=1.2,this.controls.panSpeed=-.8,this.controls.noZoom=!1,this.controls.noPan=!1,this.controls.staticMoving=!0,this.controls.dynamicDampingFactor=.3,this.renderer.domElement.addEventListener("mousemove",this.onMouseMove.bind(this)),window.addEventListener("resize",this.onWindowResize.bind(this),!1)}onWindowResize(){this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight),this.XCenter=window.innerWidth/2+"px",this.YCenter=window.innerHeight/2+"px",this.mousePosX=this.XCenter,this.mousePosY=this.YCenter}onMouseMove(e){this.mouse.x=e.clientX,this.mouse.y=e.clientY,this.mousePosX=this.mouse.x+15+"px",this.mousePosY=this.mouse.y+15+"px"}async loadModel(e){var t=new c.GLTFLoader;return await t.loadAsync(e),await t.loadAsync(e)}animate(){window.requestAnimationFrame(()=>this.animate()),!1==this.duplicated&&this.duplicate(),!0==this.duplicated&&this.threeRender()}threeRender(){this.controls.update(),this.pick(),this.renderer.setRenderTarget(null),this.renderer.render(this.scene,this.camera)}duplicate(){var e=this.files;let t={},i={},o=new s.Matrix4,n=new s.Quaternion,r=new s.Color,a=new s.MeshBasicMaterial({vertexColors:!0}),c=new s.MeshPhongMaterial({color:16777215,flatShading:!0,vertexColors:!0,shininess:0});var h=this.cloneFiles(e);if(null!=h){for(var l in this.parentElement.children.loading.style.visibility="hidden",e){var p=e[l];t[p]=[],i[p]=[]}for(let a=1;a<51;a++){var d=h[Math.floor(Math.random()*e.length)],u=d.data.clone();let c=new s.Vector3;c.x=1e4*Math.random()-5e3,c.y=6e3*Math.random()-3e3,c.z=8e3*Math.random()-4e3;let l=new s.Euler;l.x=2*Math.random()*Math.PI,l.y=2*Math.random()*Math.PI,l.z=2*Math.random()*Math.PI;let p=new s.Vector3(50,50,50);n.setFromEuler(l),o.compose(c,n,p),u.applyMatrix4(o),this.applyVertexColors(u,r.setHex(394758)),t[d.type].push(u),u=u.clone(),this.applyVertexColors(u,r.setHex(a)),i[d.type].push(u),this.pickingData[a]={position:c,rotation:l,scale:p,type:d.type}}for(var l in this.highlightShape={},e){var g=e[l];if("work"==g)var y=13199411;if("github"==g)var y=3608130;if("que"==g)var y=16728418;if("math"==g)var y=12575679;this.highlightShape[e[l]]=new s.Mesh(h[l].bigData,new s.MeshPhongMaterial({color:y,flatShading:!1,shininess:150})),this.scene.add(this.highlightShape[e[l]]),this.objects=new s.Mesh(m.mergeBufferGeometries(t[e[l]]),c),this.scene.add(this.objects),this.pickingScene.add(new s.Mesh(m.mergeBufferGeometries(i[e[l]]),a))}this.duplicated=!0}}cloneFiles(t){for(var i in t){var o=e(r).get(this,[t[i],"children",0,"children"],null),n=e(r).get(this,[t[i]+"Big","children",0,"children"],null);if(null==o||null==n)return null}var s=[];for(var i in t){var a={},c=t[i],h=e(r).get(this,[c,"children",0,"children"]);if(h.find(e=>"Mesh"==e.type))a.data=h.find(e=>"Mesh"==e.type).geometry;else{var l=h.find(e=>"Group"==e.type);if(l){for(var p=[],d=0;d<l.children.length;d++){var u=l.children[d].geometry;p.push(u)}var g=m.mergeBufferGeometries(p);a.data=g}}var y=e(r).get(this,[c+"Big","children",0,"children"]);if(y.find(e=>"Mesh"==e.type))a.bigData=y.find(e=>"Mesh"==e.type).geometry;else{var w=y.find(e=>"Group"==e.type);if(w){for(var p=[],d=0;d<w.children.length;d++){var u=w.children[d].geometry;p.push(u)}var g=m.mergeBufferGeometries(p);a.bigData=g}}a.type=c,s.push(a)}return s}pick(){var e=this.mouse.x,t=this.mouse.y;window.matchMedia("(hover: none)").matches&&(e=this.XCenter.replace("px",""),t=this.YCenter.replace("px","")),this.camera.setViewOffset(this.renderer.domElement.width,this.renderer.domElement.height,e*window.devicePixelRatio|0,t*window.devicePixelRatio|0,1,1),this.renderer.setRenderTarget(this.pickingTexture),this.renderer.render(this.pickingScene,this.camera),this.camera.clearViewOffset();let i=new Uint8Array(4);this.renderer.readRenderTargetPixels(this.pickingTexture,0,0,1,1,i);let o=i[0]<<16|i[1]<<8|i[2],n=this.pickingData[o];var s=this.shadowRoot.getElementById("infoText");if(o>0?(this.cursorType="pointer",this.infoVisible="visible","work"==n.type&&(this.link="/src/portfolio.html",s.innerHTML="work portfolio"),"github"==n.type&&(this.link="https://github.com/herdofsheep",s.innerHTML="github"),"que"==n.type&&(this.link="/src/what.html",s.innerHTML="what's this?"),"math"==n.type&&(this.link="/src/art.html",s.innerHTML="art portfolio"),this.canClick=!0):this.infoVisible="hidden",n&&o>0)n.position&&n.rotation&&n.scale&&n.type&&(this.highlightShape[n.type].position.copy(n.position),this.highlightShape[n.type].rotation.copy(n.rotation),this.highlightShape[n.type].scale.copy(n.scale).add(this.offset),this.highlightShape[n.type].visible=!0);else{for(var r in this.files)this.highlightShape[this.files[r]].visible=!1;this.cursorType="cell",this.canClick=!1}}clickLink(){this.canClick&&(window.location.href=this.link)}touchStart(){this.canClick&&(this.beganTouching=!0)}touchMove(){this.beganTouching=!1}touchEnd(){this.canClick&&this.beganTouching&&(window.location.href=this.link)}applyVertexColors(e,t){let i=e.attributes.position,o=[];for(let e=0;e<i.count;e++)o.push(t.r,t.g,t.b);e.setAttribute("color",new s.Float32BufferAttribute(o,3))}}window.customElements.define("ray-cast",u);
//# sourceMappingURL=index.a692518e.js.map
