{"mappings":"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","sources":["src/hidden/experiments/shapeStuff/main-shape.js"],"sourcesContent":["'use strict'\n\nvar container = document.getElementById( 'container' );\n\nvar scene = new THREE.Scene();\nvar camera = new THREE.PerspectiveCamera( 60, window.innerWidth / window.innerHeight, 1, 10000 );\ncamera.position.set( 500, 0, 0 );\n\nvar renderer = new THREE.WebGLRenderer( { antialias: true, alpha: true });\nrenderer.setSize( window.innerWidth, window.innerHeight );\nrenderer.setPixelRatio( window.devicePixelRatio );\ncontainer.appendChild( renderer.domElement );\n\nvar controls = new THREE.OrbitControls( camera, renderer.domElement );\nvar clock = new THREE.Clock();\n\nvar colors = [\n\t0xed6a5a,\n\t0xf4f1bb,\n\t0x9bc1bc,\n\t0x5ca4a9,\n\t0xe6ebe0,\n\t0xf0b67f,\n\t0xfe5f55,\n\t0xd6d1b1,\n\t0xc7efcf,\n\t0xeef5db,\n\t0x50514f,\n\t0xf25f5c,\n\t0xffe066,\n\t0x247ba0,\n\t0x70c1b3\n];\n\nvar resolution = new THREE.Vector2( window.innerWidth, window.innerHeight );\n\ninit()\nrender();\n\nvar material = new MeshLineMaterial( {\n\t// map: THREE.ImageUtils.loadTexture( 'shapeStuff/stroke.png' ),\n\tuseMap: false,\n\tcolor: new THREE.Color( colors[ 3 ] ),\n\topacity: .5,\n\tresolution: resolution,\n\tsizeAttenuation: false,\n\tlineWidth: 10,\n\tnear: camera.near,\n\tfar: camera.far,\n\tdepthWrite: false,\n\tdepthTest: false,\n\ttransparent: true\n});\n\nfunction makeLine( geo ) {\n\n\tvar g = new MeshLine();\n\tg.setGeometry( geo );\n\n\tvar mesh = new THREE.Mesh( g.geometry, material );\n\tmesh.position.z += 500;\n\tmesh.position.y += 300;\n\tmesh.rotation.y = -Math.PI / 2;\n\tmesh.rotation.z = Math.PI;\n\tscene.add( mesh );\n\n\treturn mesh;\n\n}\n\nfunction init() {\n\n\treadModel().then( collectPoints );\n\n}\n\nfunction readModel() {\n\n    return new Promise( function( resolve, reject ) {\n\n        var loader = new THREE.OBJLoader();\n        loader.load( 'shapeStuff/LeePerrySmith.obj', function( res ) {\n            resolve( res );\n        } )\n\n    });\n\n}\n\nfunction collectPoints( source ) {\n\n\tvar total = 0;\n\tsource.children.forEach( function( o ) {\n\t\ttotal += o.geometry.attributes.position.count;\n\t})\n\tvar g = new THREE.BufferGeometry();\n\tg.addAttribute( 'position', new THREE.BufferAttribute( new Float32Array( total * 3 ), 3 ) );\n\n\tvar offset = 0;\n\tsource.children.forEach( function( o ) {\n\t\tg.merge( o.geometry, offset );\n\t\toffset += o.geometry.attributes.position.count;\n\t})\n\n    g.center( g );\n    var scaleMatrix = new THREE.Matrix4();\n    scaleMatrix.makeScale( 1000, 1000, 1000 );\n    g.applyMatrix( scaleMatrix );\n\n    var o = new THREE.Mesh( g, new THREE.MeshNormalMaterial() );\n    scene.add( o );\n\n    var raycaster = new THREE.Raycaster();\n\n    var points = [];\n\n    var y = -200;\n    var a = 0;\n    var r = 1000;\n    var origin = new THREE.Vector3();\n    var direction = new THREE.Vector3();\n    for( var j = 0; j < 6000; j++ ) {\n        a += .1;\n        y += .075;\n        origin.set( r * Math.cos( a ), y, r * Math.sin( a ) );\n        direction.set( -origin.x, 0, -origin.z );\n        direction = direction.normalize();\n        raycaster.set( origin, direction );\n\n        var i = raycaster.intersectObject( o, true );\n        if( i.length ) {\n            points.push( i[ 0 ].point.x, i[ 0 ].point.y, i[ 0 ].point.z );\n        }\n    }\n\n    scene.remove( o );\n\n    var l = new MeshLine();\n    l.setGeometry( points, function( p ) { return p } );\n    var line = new THREE.Mesh( l.geometry, material );\n    scene.add( line );\n\n    document.querySelector( '#title p' ).style.display = 'none';\n\n}\n\nonWindowResize();\n\nfunction onWindowResize() {\n\n\tvar w = container.clientWidth;\n\tvar h = container.clientHeight;\n\n\tcamera.aspect = w / h;\n\tcamera.updateProjectionMatrix();\n\n\trenderer.setSize( w, h );\n\n\tresolution.set( w, h );\n\n}\n\nwindow.addEventListener( 'resize', onWindowResize );\n\nfunction render() {\n\n\trequestAnimationFrame( render );\n\tcontrols.update();\n\n\trenderer.render( scene, camera );\n\n}\n"],"names":[],"version":3,"file":"shape.870b6d42.js.map","sourceRoot":"../../../../../"}